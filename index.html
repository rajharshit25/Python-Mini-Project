<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array Data Structure Visualizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap');

        * {
            font-family: 'Inter', sans-serif;
        }

        /* Custom animations for array elements */
        @keyframes slideInLeft {
            from {
                transform: translateX(-100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100px);
                opacity: 0;
            }
        }

        @keyframes highlight {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7);
            }
            50% {
                box-shadow: 0 0 0 10px rgba(99, 102, 241, 0);
            }
        }

        @keyframes bounce-element {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        .slide-in-left {
            animation: slideInLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .slide-in-right {
            animation: slideInRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .slide-out {
            animation: slideOut 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .highlight-pulse {
            animation: highlight 0.5s ease-in-out;
        }

        .glow-pulse {
            animation: pulse-glow 1.5s ease-in-out;
        }

        .bounce-element {
            animation: bounce-element 0.8s ease-in-out;
        }

        /* Array container styling */
        .array-container {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            padding: 40px 20px;
        }

        /* Array element styling */
        .array-element {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            font-weight: 600;
            font-size: 24px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .array-element:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        /* Color states for different sections */
        .element-left {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .element-right {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .element-center {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .element-found {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
            animation: pulse-glow 1s ease-in-out;
        }

        .element-default {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
        }

        /* Index label */
        .element-index {
            position: absolute;
            bottom: -28px;
            font-size: 12px;
            font-weight: 500;
            color: #667eea;
        }

        /* Button styles */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6);
        }

        /* Status message styles */
        .status-message {
            padding: 16px 24px;
            border-radius: 12px;
            margin: 20px auto;
            max-width: 600px;
            text-align: center;
            font-weight: 500;
            animation: slideInLeft 0.4s ease-out;
        }

        .status-success {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
        }

        .status-error {
            background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%);
            color: white;
        }

        .status-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        /* Input styling */
        .custom-input {
            padding: 12px 16px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .custom-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Speed control */
        .speed-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, #667eea, #764ba2);
            outline: none;
            -webkit-appearance: none;
        }

        .speed-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .speed-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            border: none;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
    <div class="min-h-screen py-10 px-4">
        <!-- Header -->
        <div class="max-w-7xl mx-auto mb-12">
            <div class="text-center mb-8">
                <h1 class="text-5xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 mb-4">
                    Array Visualizer
                </h1>
                <p class="text-xl text-gray-300">Watch how array operations work in real-time with smooth animations</p>
            </div>

            <!-- Main Controls Section -->
            <div class="bg-gradient-to-r from-slate-800 to-slate-700 rounded-2xl p-8 shadow-2xl border border-purple-500/20 mb-8">
                <!-- Array Size Section -->
                <div class="mb-8">
                    <label class="block text-gray-200 font-semibold mb-3">Array Size (Max 12)</label>
                    <div class="flex gap-3 items-center">
                        <input type="number" id="arraySizeInput" min="1" max="12" value="8" class="custom-input w-24" />
                        <button onclick="initializeArray()" class="btn-primary">Initialize Array</button>
                    </div>
                </div>

                <!-- Speed Control -->
                <div class="mb-8">
                    <label class="block text-gray-200 font-semibold mb-3">Animation Speed</label>
                    <div class="flex gap-4 items-center">
                        <input type="range" id="speedSlider" class="speed-slider flex-1" min="0.5" max="2" step="0.1" value="1" />
                        <span class="text-gray-200 font-semibold min-w-16 text-right" id="speedValue">1.0x</span>
                    </div>
                </div>

                <!-- Operations Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3">
                    <div>
                        <label class="block text-gray-300 text-sm mb-2">Value</label>
                        <input type="number" id="valueInput" placeholder="Enter value" class="custom-input w-full" />
                    </div>
                    <div>
                        <label class="block text-gray-300 text-sm mb-2">Index</label>
                        <input type="number" id="indexInput" placeholder="Index" class="custom-input w-full" />
                    </div>
                    <button onclick="insertElement()" class="btn-primary mt-6 h-11">Insert</button>
                    <button onclick="deleteElement()" class="btn-secondary mt-6 h-11">Delete</button>
                    <button onclick="traverseArray()" class="btn-primary mt-6 h-11">Traverse</button>
                </div>

                <!-- Search Section -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mt-8 pt-8 border-t border-purple-500/20">
                    <div class="md:col-span-2">
                        <label class="block text-gray-300 text-sm mb-2">Search Value</label>
                        <input type="number" id="searchInput" placeholder="Enter value to search" class="custom-input w-full" />
                    </div>
                    <button onclick="searchElement()" class="btn-primary mt-6 h-11">Search</button>
                </div>

                <!-- Update Section -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mt-8 pt-8 border-t border-purple-500/20">
                    <div>
                        <label class="block text-gray-300 text-sm mb-2">Index to Update</label>
                        <input type="number" id="updateIndexInput" placeholder="Index" class="custom-input w-full" />
                    </div>
                    <div>
                        <label class="block text-gray-300 text-sm mb-2">New Value</label>
                        <input type="number" id="updateValueInput" placeholder="New value" class="custom-input w-full" />
                    </div>
                    <button onclick="updateElement()" class="btn-secondary mt-6 h-11">Update</button>
                </div>
            </div>
        </div>

        <!-- Status Message Area -->
        <div id="statusContainer" class="max-w-7xl mx-auto"></div>

        <!-- Array Visualization -->
        <div class="max-w-7xl mx-auto">
            <div class="bg-gradient-to-r from-slate-800/50 to-slate-700/50 rounded-2xl p-8 shadow-2xl border border-purple-500/20 backdrop-blur">
                <h2 class="text-2xl font-bold text-white mb-6">Array Elements</h2>
                <div id="arrayContainer" class="array-container bg-gradient-to-b from-slate-700/50 to-slate-800/50 rounded-xl border border-purple-500/10">
                    <!-- Array elements will be rendered here -->
                </div>
                <p class="text-center text-gray-400 mt-6 text-sm">Array Size: <span id="arraySizeDisplay" class="font-semibold text-purple-300">0</span> | Elements: <span id="elementCount" class="font-semibold text-purple-300">0</span></p>
            </div>
        </div>
    </div>

    <script>
        // State management
        let array = [];
        let animationSpeed = 1;
        let isAnimating = false;

        // Initialize array with random values
        function initializeArray() {
            const sizeInput = document.getElementById('arraySizeInput');
            const size = Math.min(Math.max(parseInt(sizeInput.value) || 8, 1), 12);
            
            array = [];
            for (let i = 0; i < size; i++) {
                array.push(Math.floor(Math.random() * 100) + 1);
            }
            
            renderArray();
            showStatus('Array initialized with ' + size + ' elements', 'info');
        }

        // Render array to DOM
        function renderArray() {
            const container = document.getElementById('arrayContainer');
            container.innerHTML = '';
            
            document.getElementById('arraySizeDisplay').textContent = array.length;
            document.getElementById('elementCount').textContent = array.length;

            array.forEach((value, index) => {
                const element = document.createElement('div');
                element.className = 'array-element element-default';
                element.textContent = value;
                element.id = `element-${index}`;
                element.innerHTML += `<div class="element-index">${index}</div>`;
                container.appendChild(element);
            });
        }

        // Insert element at specific index
        async function insertElement() {
            if (array.length >= 12) {
                showStatus('Array is full! Maximum size is 12', 'error');
                return;
            }

            const value = parseInt(document.getElementById('valueInput').value);
            const index = parseInt(document.getElementById('indexInput').value) || array.length;

            if (isNaN(value)) {
                showStatus('Please enter a valid value', 'error');
                return;
            }

            if (index < 0 || index > array.length) {
                showStatus('Invalid index. Must be between 0 and ' + array.length, 'error');
                return;
            }

            isAnimating = true;
            
            // Show insertion animation
            const insertedElements = document.querySelectorAll(`[id^="element-"]`);
            const delay = 600 / animationSpeed;

            for (let i = insertedElements.length - 1; i >= index; i--) {
                insertedElements[i].classList.add('slide-in-right');
                await sleep(delay * 0.3);
            }

            array.splice(index, 0, value);
            renderArray();

            const newElement = document.getElementById(`element-${index}`);
            newElement.classList.add('slide-in-left');
            newElement.classList.add('highlight-pulse');

            await sleep(delay);
            showStatus(`Value ${value} inserted at index ${index}`, 'success');
            
            document.getElementById('valueInput').value = '';
            document.getElementById('indexInput').value = '';
            isAnimating = false;
        }

        // Delete element at specific index
        async function deleteElement() {
            const index = parseInt(document.getElementById('indexInput').value);

            if (isNaN(index) || index < 0 || index >= array.length) {
                showStatus('Invalid index', 'error');
                return;
            }

            isAnimating = true;
            const delay = 600 / animationSpeed;

            const elementToDelete = document.getElementById(`element-${index}`);
            const deletedValue = array[index];
            
            elementToDelete.classList.add('slide-out');
            await sleep(delay);

            array.splice(index, 1);
            renderArray();

            showStatus(`Value ${deletedValue} deleted from index ${index}`, 'success');
            document.getElementById('indexInput').value = '';
            isAnimating = false;
        }

        // Traverse the array
        async function traverseArray() {
            if (array.length === 0) {
                showStatus('Array is empty', 'error');
                return;
            }

            isAnimating = true;
            const delay = 1000 / animationSpeed;

            showStatus('Traversing array...', 'info');

            for (let i = 0; i < array.length; i++) {
                const element = document.getElementById(`element-${i}`);
                
                // Determine color based on position
                if (i < array.length / 2) {
                    element.classList.remove('element-default', 'element-right', 'element-center');
                    element.classList.add('element-left');
                } else if (i >= array.length / 2 && i < array.length - 1) {
                    element.classList.remove('element-default', 'element-left', 'element-center');
                    element.classList.add('element-center');
                } else {
                    element.classList.remove('element-default', 'element-left', 'element-center');
                    element.classList.add('element-right');
                }

                element.classList.add('bounce-element');
                await sleep(delay);
            }

            showStatus('Traversal complete! All elements processed', 'success');
            isAnimating = false;
        }

        // Search for an element
        async function searchElement() {
            const searchValue = parseInt(document.getElementById('searchInput').value);

            if (isNaN(searchValue)) {
                showStatus('Please enter a valid search value', 'error');
                return;
            }

            isAnimating = true;
            const delay = 500 / animationSpeed;

            showStatus(`Searching for ${searchValue}...`, 'info');

            let found = false;
            for (let i = 0; i < array.length; i++) {
                const element = document.getElementById(`element-${i}`);
                element.classList.add('highlight-pulse');

                if (array[i] === searchValue) {
                    element.classList.remove('element-default', 'element-left', 'element-right');
                    element.classList.add('element-found', 'glow-pulse');
                    showStatus(`Found ${searchValue} at index ${i}!`, 'success');
                    found = true;
                    await sleep(delay * 2);
                    break;
                }

                await sleep(delay);
            }

            if (!found) {
                showStatus(`Value ${searchValue} not found in array`, 'error');
            }

            document.getElementById('searchInput').value = '';
            isAnimating = false;
        }

        // Update element value
        async function updateElement() {
            const index = parseInt(document.getElementById('updateIndexInput').value);
            const newValue = parseInt(document.getElementById('updateValueInput').value);

            if (isNaN(index) || index < 0 || index >= array.length || isNaN(newValue)) {
                showStatus('Invalid index or value', 'error');
                return;
            }

            isAnimating = true;
            const delay = 600 / animationSpeed;

            const element = document.getElementById(`element-${index}`);
            element.classList.add('highlight-pulse');
            await sleep(delay);

            array[index] = newValue;
            renderArray();

            const updatedElement = document.getElementById(`element-${index}`);
            updatedElement.classList.add('highlight-pulse');

            showStatus(`Element at index ${index} updated to ${newValue}`, 'success');
            document.getElementById('updateIndexInput').value = '';
            document.getElementById('updateValueInput').value = '';
            isAnimating = false;
        }

        // Utility functions
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function showStatus(message, type) {
            const container = document.getElementById('statusContainer');
            const statusDiv = document.createElement('div');
            statusDiv.className = `status-message status-${type}`;
            statusDiv.textContent = message;
            container.innerHTML = '';
            container.appendChild(statusDiv);

            setTimeout(() => {
                statusDiv.style.opacity = '0';
                statusDiv.style.transition = 'opacity 0.3s ease';
            }, 3000);
        }

        // Speed control
        document.getElementById('speedSlider').addEventListener('input', (e) => {
            animationSpeed = parseFloat(e.target.value);
            document.getElementById('speedValue').textContent = animationSpeed.toFixed(1) + 'x';
        });

        // Initialize on load
        window.addEventListener('load', () => {
            initializeArray();
        });
    </script>
</body>
</html>
